<span tal:omit-tag="" metal:define-macro="properties">
    <h5>Properties</h5>
    <form>
        <div class="properties">
            <div class="property uk-margin-bottom"
                 tal:repeat="(key,entry) sorted(obj.items())">
                <span tal:omit-tag="" tal:define="guessed_type conversion.guess_type(entry)">

                    <div class="prop_key">
                        <label class="uk-text-bold" for="property-${key}}">${key}</label>
                    </div>


                    <div class="prop_value" tal:condition="type(entry)==list">
                        <ul class="uk-list uk-list-hyphen">
                            <li tal:repeat="value entry">
                                <span tal:omit-tag=""
                                      tal:define="name key+'.'+str(repeat.value.index);
                                                  widgetname conversion.widgetname(value)">

                                    <c metal:use-macro="templates['widgets'].macros[widgetname]" />

                                </span>

                            </li>
                        </ul>
                    </div>

                    <div class="prop_value" tal:condition="type(entry)!=list">
                        <div tal:define='name key;
                                         value entry;
                                         widgetname conversion.widgetname(entry)'>
                            <c metal:use-macro="templates['widgets'].macros[widgetname]" />
                        </div>

                    </div>


                    <div class="prop_type uk-text-muted">${guessed_type}<br> ${type(entry)}</div>

                    <div class="prop_edit"><a uk-icon="icon: pencil;  ratio: 0.75"
                                              class="uk-link-muted "></a></div>

                    <div class="prop_delete"><a uk-icon="icon: minus-circle;  ratio: 0.75"
                                                class="uk-link-muted"></a></div>

                </span>

            </div>
        </div>
        <input type="submit">
    </form>
</span>