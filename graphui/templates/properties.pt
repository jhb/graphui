<span tal:omit-tag="" metal:define-macro="properties">
    <h5>Properties</h5>
    <div class="properties" hx-push-url="false">
        <div tal:repeat="item sorted(obj.items())" tal:omit-tag="">
            <div tal:define="(propname, prop) item; guessed_type conversion.guess_type(prop); name propname"
                class="prop_row">
                <div class="prop_propname">
                    <label class="uk-text-bold"
                           for="property-${propname}}">
                        ${propname}
                    </label>
                </div>

                <div class="prop_value"
                     id="prop_value_${propname}"
                     tal:define="mode 'view'; path propname">
                    <span metal:use-macro="templates['property'].macros['property_core']"></span>
                </div>
                <div class="prop_value uk-width-1-6"></div>
                <div class="prop_edit uk-margin-left-large" tal:condition="1" >
                    <a class="uk-link-muted "
                       href="${get_obj_path(obj)}/${propname}/edit"
                       hx-push-url="false"
                       hx-target="#prop_value_${propname}"
                       title="Edit property"
                       uk-icon="icon: pencil;  ratio: 0.75"
                       xhx-ext="debug"
                    ></a>
                </div>

                <div class="prop_delete">
                    <a class="uk-link-muted"
                       href="${get_obj_path(obj)}/${propname}/delete"
                       hx-confirm="Delete ${propname}?"
                       title="Delete property"
                       uk-icon="icon: minus-circle;  ratio: 0.75"
                    ></a>
                </div>
            </div>
        </div>

    </div>
    <div id="prop_add" hx-target="this" class="uk-margin-top">
        <a href="${get_obj_path(obj)}/add" uk-icon="icon: plus-circle" class="uk-link-muted"></a>
    </div>
</span>