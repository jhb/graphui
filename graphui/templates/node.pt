<div metal:use-macro="templates['main'].macros['main']">
    <div metal:fill-slot="content" id="content">
        <div class="uk-align-right">
            <a href="/node/${node.id}/delete"
               hx-confirm="Are you sure you want to delete node ${node.id} '${get_display_title(node)}' and all attached edges?">Delete node</a>
        </div>
        <h4>${get_display_title(node)}
            <span class="uk-text-muted uk-margin-small-left">(${node.id})</span><br>
            <span class="uk-text-muted">${', '.join(node.labels)} &nbsp;</span>
        </h4>

        <span tal:define="obj node" metal:use-macro="templates['properties'].macros['properties']">
        </span>
        <div>&nbsp;</div>
        <div>&nbsp;</div>
        <div class="uk-grid-divider" uk-grid>
            <div>
                <h5 class="uk-text-uppercase">Incoming</h5>
                <ul class="uk-list ">
                    <li tal:repeat="edge sorted(graph.edges(None,node.id),
                        key=lambda e: type(e).__name__)">
                        <span tal:omit-tag="" tal:define="other edge.start_node">
                            <a href="/node/${other.id}">${get_display_title(other)}</a>
                                &nbsp;-<a href="/edge/${edge.id}">${type(edge).__name__}</a>&rarr;
                        </span>
                    </li>
                    <br>
                    <a href="/edge/add?target_id=${node.id}">add incoming edge</a>
                </ul>
            </div>
            <div>
                <div style="height: 100%; text-align: center">
                    <div class="uk-position-center uk-position-relative">
                        ${get_display_title(node)}
                    </div>
                </div>
            </div>
            <div><h5 class="uk-text-uppercase">Outgoing</h5>
                <ul class="uk-list ">
                    <li tal:repeat="edge sorted(graph.edges(node.id,None),
                        key=lambda e: type(e).__name__)">
                        <span tal:omit-tag="" tal:define="other edge.end_node">

                            -<a href="/edge/${edge.id}">${type(edge).__name__}</a>&rarr;&nbsp;
                            <a href="/node/${other.id}">${get_display_title(other)}</a>
                        </span>
                    </li>
                </ul>
                <br>
                <a href="/edge/add?source_id=${node.id}">add outgoing edge</a>
            </div>

        </div>
    </div>
</div>