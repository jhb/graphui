<span metal:define-macro="str_view">${value}</span>

<input metal:define-macro="str_edit"     name="${name}" class="uk-input" type="text"
                                         value="${value}">

<input metal:define-macro="date_edit"     name="${name}" class="uk-input" type="date"
                                          value="${value}">

<input metal:define-macro="time_edit"     name="${name}" class="uk-input" type="time"
                                          value="${value.hour}:${round(value.minute)}:${round(value.second)}" step="1">

<input metal:define-macro="datetime_edit" name="${name}" class="uk-input" type="datetime-local"
                                          value="${value.date()}T${value.hour}:${round(value.minute)}:${round(value.second)}"
                                          step="1">

<input metal:define-macro="number_edit"   name="${name}" class="uk-input" type="number"
                                          value="${value}">

<input metal:define-macro="bool_edit"     name="${name}" class="uk-checkbox"
                                          type="checkbox" tal:attributes="checked value">

<span metal:define-macro="text_view" tal:content="structure value.replace('\n','<br>')"></span>

<textarea metal:define-macro="text_edit"
          name="${name}"
          class="uk-textarea"
          rows="${value.count('\n')+2}">${value}</textarea>

<span metal:define-macro="duration_edit"
     tal:define="(years,months,days) value.years_months_days;
        (hours,minutes,seconds) value.hours_minutes_seconds;
            fields dict(years=years,months=months,days=days,hours=hours,minutes=minutes,seconds=seconds)"
    class="xuk-flex xuk-flex-left subproperties">
        <div tal:repeat="(skey,v) fields.items()" class="subproperty">
            <div class="subprop_key">${skey.capitalize()}</div>
            <div class="subprop_value"><input name="${name}.${skey}"
                                              class="uk-input uk-form-width-small" type="number"
                                              value="${v}"></div>

        </div>
    </span>

<span metal:define-macro="wgs84point_edit" class="uk-flex uk-flex-left subproperties">
        <div class="subproperty">
            <div class="subprop_key">Longitude</div>
            <div class="subprop_value"><input name="${name}.longitude"
                                              class="uk-input uk-form-width-small" type="number"
                                              value="${value.longitude}"></div>
        </div>
        <div class="subproperty">
            <div class="subprop_key">Latitude</div>
            <div class="subprop_value"><input name="${name}.latitude"
                                              class="uk-input uk-form-width-small" type="number"
                                              value="${value.latitude}"></div>
        </div>
        <div tal:condition="len(value)>2" class="subproperty">
            <div class="subprop_key">Height</div>
            <div class="subprop_value"><input name="${name}.height"
                                              class="uk-input uk-form-width-small" type="number"
                                              value="${value.height}"></div>
        </div>

    </span>

<span metal:define-macro="cartesianpoint_edit" class="uk-flex uk-flex-left subproperties">
        <div class="subproperty">
            <div class="subprop_key">X</div>
            <div class="subprop_value"><input name="${name}.x" class="uk-input uk-form-width-small"
                                              type="number" value="${value.x}"></div>
        </div>
        <div class="subproperty">
            <div class="subprop_key">Y</div>
            <div class="subprop_value"><input name="${name}.y" class="uk-input uk-form-width-small"
                                              type="number" value="${value.y}"></div>
        </div>
        <div tal:condition="len(value)>2" class="subproperty">
            <div class="subprop_key">Z</div>
            <div class="subprop_value"><input name="${name}.z" class="uk-input uk-form-width-small"
                                              type="number" value="${value.z}"></div>
        </div>

    </span>

